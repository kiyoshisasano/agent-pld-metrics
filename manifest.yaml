# manifest.yaml
# PLD Repository Metadata Manifest
# Format spec: METADATA_MANIFEST_SPEC v0.9.1
# SPDX-License-Identifier: Apache-2.0

version: 0.9.1
default_license: Apache-2.0

components:
  # ---------------------------------------------------------
  # 1. Meta & Governance
  # ---------------------------------------------------------
  - path: README.md
    component_id: repo_readme
    kind: doc
    area: meta
    status: stable
    authority_level: 1
    purpose: Repository entry point.

  - path: SUMMARY.md
    component_id: repo_summary
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: High-level summary and navigation index for the PLD repository contents.

  - path: SUMMARY.svg
    component_id: repo_summary_diagram
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: Visual overview diagram of the PLD repository structure.

  - path: README_model.svg
    component_id: readme_model_diagram
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: Diagram illustrating the core PLD runtime model referenced by the repository README.

  - path: CONTRIBUTING.md
    component_id: contributing_guide
    kind: doc
    area: meta
    status: stable
    authority_level: 3
    purpose: Contribution guidelines for maintainers and external collaborators.

  - path: meta/ROADMAP.md
    component_id: roadmap
    kind: doc
    area: meta
    status: draft
    authority_level: 3
    purpose: Roadmap and future development plans for the PLD repository and runtime ecosystem.

  - path: meta/CHANGELOG.md
    component_id: changelog
    kind: doc
    area: meta
    status: stable
    authority_level: 5
    purpose: Official change history for the PLD repository and runtime ecosystem.

  - path: meta/METADATA_MANIFEST_SPEC.md
    component_id: manifest_spec
    kind: doc
    area: meta
    status: candidate
    authority_level: 5
    purpose: Governing specification for PLD metadata and manifest structure.

  - path: meta/VERSIONING_POLICY.md
    component_id: versioning_policy
    kind: doc
    area: meta
    status: stable
    authority_level: 5
    purpose: Versioning rules and governance policy for schemas, runtime modules, and specifications.

  # ---------------------------------------------------------
  # 2. Documentation & Architecture
  # ---------------------------------------------------------
  - path: docs/architecture/PLD_Runtime_Architecture_Principles.md
    component_id: arch_principles
    kind: doc
    area: architecture
    status: draft
    authority_level: 4
    purpose: Core architectural values and constraints.

  - path: docs/metrics/PLD_metrics_spec.md
    component_id: metrics_spec
    kind: schema
    area: analytics
    status: candidate
    authority_level: 3
    purpose: Definitions of PRDR, REI, and VRL metrics.

  - path: docs/taxonomy/PLD_taxonomy_v2.0.md
    component_id: taxonomy_v2
    kind: doc
    area: taxonomy
    status: stable
    authority_level: 5
    purpose: Core taxonomy defining Drift, Repair, and Reentry types.

  # ---------------------------------------------------------
  # 3. PLD Runtime Core
  # ---------------------------------------------------------

  - path: pld_runtime/README.md
    component_id: pld_runtime_readme
    kind: doc
    area: runtime
    status: stable
    authority_level: 5
    purpose: Entry-point documentation for the PLD runtime directory.

  # --- 01_schemas ---
  - path: pld_runtime/01_schemas/runtime_event_envelope.json
    component_id: runtime_event_envelope_json
    kind: schema
    area: runtime_schema
    status: stable
    authority_level: 5
    purpose: JSON schema definition for the PLD Event Envelope.

  - path: pld_runtime/01_schemas/runtime_event_envelope.ops.md
    component_id: runtime_event_envelope_ops
    kind: doc
    area: schema
    status: candidate
    authority_level: 5
    version: 2.0.0
    purpose: Operational guidance for emitting, validating, transporting, and observing PLD runtime events.

  - path: pld_runtime/01_schemas/runtime_event_envelope.examples.md
    component_id: runtime_event_envelope_examples
    kind: doc
    area: schema
    status: candidate
    authority_level: 5
    version: 2.0.0
    purpose: Runtime event envelope examples for operational reference.

  - path: pld_runtime/01_schemas/runtime_event_envelope.notes.md
    component_id: runtime_event_envelope_notes
    kind: doc
    area: schema
    status: draft
    authority_level: 5
    version: 2.0.0
    purpose: Operational companion reference for the PLD runtime event envelope, including behavioral rules and deployment guidance.


  # --- 02_ingestion ---
  - path: pld_runtime/02_ingestion/ingestion_config.py
    component_id: ingestion_config
    kind: config
    area: ingestion
    status: experimental
    authority_level: 3
    purpose: Configuration for data ingestion pipelines.

  - path: pld_runtime/02_ingestion/multiwoz_loader.py
    component_id: multiwoz_loader
    kind: runtime_module
    area: ingestion
    status: experimental
    authority_level: 2
    purpose: Loader for MultiWOZ dataset adaptation.

  - path: pld_runtime/02_ingestion/normalization.py
    component_id: normalization
    kind: runtime_module
    area: ingestion
    status: stable
    authority_level: 4
    purpose: Normalizes input signals into PLD format.

  # --- 03_detection ---
  - path: pld_runtime/03_detection/drift_detector.py
    component_id: drift_detector
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 5
    purpose: Core logic for detecting conversation drift.

  - path: pld_runtime/03_detection/repair_detector.py
    component_id: repair_detector
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 5
    purpose: Identifies repair sequences.

  - path: pld_runtime/03_detection/pattern_classifier.py
    component_id: pattern_classifier
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 4
    purpose: Classifies detected patterns against the taxonomy.

  - path: pld_runtime/03_detection/runtime_signal_bridge.py
    component_id: runtime_signal_bridge
    kind: runtime_module
    area: detection
    status: stable
    authority_level: 5
    purpose: Bridges raw signals to runtime events.

  # --- 04_enforcement ---
  - path: pld_runtime/04_enforcement/response_policy.py
    component_id: response_policy
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Map PLD runtime events to advisory response policy.

  - path: pld_runtime/04_enforcement/schema_validator.py
    component_id: schema_validator
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Validate PLD runtime events against Level 1 schema.

  - path: pld_runtime/04_enforcement/sequence_rules.py
    component_id: sequence_rules
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Evaluate ordering constraints in runtime event sequences.

  - path: pld_runtime/04_enforcement/thresholds.py
    component_id: enforcement_thresholds
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Threshold templates for runtime enforcement.

  # --- 05_controllers ---
  - path: pld_runtime/05_controllers/pld_controller.py
    component_id: pld_controller
    kind: runtime_module
    area: controller
    status: experimental
    authority_level: 4
    purpose: Main runtime loop controller.

  - path: pld_runtime/05_controllers/action_router.py
    component_id: action_router
    kind: runtime_module
    area: controller
    status: experimental
    authority_level: 4
    purpose: Routes controller decisions to execution modules.

  - path: pld_runtime/05_controllers/controller_config.py
    component_id: controller_config
    kind: config
    area: controller
    status: experimental
    authority_level: 3
    purpose: Configuration for the runtime controller.

  - path: pld_runtime/05_controllers/state_machine.py
    component_id: state_machine
    kind: runtime_module
    area: controller
    status: experimental
    authority_level: 5
    purpose: Manages state transitions (Drift -> Repair -> Reentry).

  # --- 06_logging ---
  - path: pld_runtime/06_logging/runtime_logging_pipeline.py
    component_id: logging_pipeline
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 3
    purpose: Structured logging pipeline.

  - path: pld_runtime/06_logging/event_writer.py
    component_id: event_writer
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 3
    purpose: Writes validated events to storage.

  - path: pld_runtime/06_logging/logging_config.py
    component_id: logging_config
    kind: config
    area: logging
    status: stable
    authority_level: 3
    purpose: Configuration for logging levels and outputs.

  - path: pld_runtime/06_logging/session_trace_buffer.py
    component_id: session_trace_buffer
    kind: runtime_module
    area: logging
    status: experimental
    authority_level: 4
    purpose: Buffers session events for trace assembly.

  - path: pld_runtime/06_logging/structured_logger.py
    component_id: structured_logger
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 3
    purpose: Core logger implementation.

  - path: pld_runtime/06_logging/exporters/exporter_jsonl.py
    component_id: exporter_jsonl
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 3
    purpose: Exports logs to JSONL format.

  - path: pld_runtime/06_logging/exporters/exporter_open_telemetry.py
    component_id: exporter_open_telemetry
    kind: runtime_module
    area: logging
    status: experimental
    authority_level: 3
    purpose: Exports logs via OpenTelemetry.

  # --- 07_failover ---
  - path: pld_runtime/07_failover/runtime_failover.py
    component_id: runtime_failover
    kind: runtime_module
    area: failover
    status: experimental
    authority_level: 5
    purpose: Manages failover logic when runtime errors occur.

  - path: pld_runtime/07_failover/backoff_policies.py
    component_id: backoff_policies
    kind: runtime_module
    area: failover
    status: experimental
    authority_level: 4
    purpose: Defines retry and backoff strategies.

  - path: pld_runtime/07_failover/reconciliation.py
    component_id: reconciliation
    kind: runtime_module
    area: failover
    status: experimental
    authority_level: 5
    purpose: Reconciles state after failover.

  - path: pld_runtime/07_failover/strategy_registry.py
    component_id: strategy_registry
    kind: runtime_module
    area: failover
    status: experimental
    authority_level: 4
    purpose: Registry for failover strategies.

# ---------------------------------------------------------
# 4. Quickstart & Examples
# ---------------------------------------------------------

  - path: quickstart/hello_pld_runtime.py
    component_id: hello_pld_runtime
    kind: example
    area: quickstart
    status: experimental
    authority_level: 1
    purpose: Minimal quickstart script that builds a single PLD v2-compliant event via RuntimeSignalBridge and emits it using the Level 5 logging pipeline.

  - path: quickstart/run_minimal_engine.py
    component_id: run_minimal_engine
    kind: example
    area: quickstart
    status: experimental
    authority_level: 1
    purpose: Minimal engine loop that processes a sequence of RuntimeSignals into PLD v2-compliant events via RuntimeSignalBridge and emits them through the Level 5 structured logging pipeline.

  - path: quickstart/examples/minimal_pld_demo.py
    component_id: minimal_pld_demo
    kind: example
    area: quickstart
    status: experimental
    authority_level: 1
    purpose: End-to-end quickstart demonstration showing a scripted flow converted to PLD runtime events and logged through StructuredLogger for inspection.

  # ---------------------------------------------------------
  # 5. Field Collaboration
  # ---------------------------------------------------------
  - path: field/README.md
    component_id: field_readme
    kind: doc
    area: field_ops
    status: stable
    authority_level: 1
    purpose: Guide for external collaboration.

  # ---------------------------------------------------------
  # 6. Analytics
  # ---------------------------------------------------------
  - path: analytics/taxonomy/taxonomy_observation_sheet_v2.0.csv
    component_id: taxonomy_sheet
    kind: metric
    area: analytics
    status: draft
    authority_level: 2
    purpose: Observation log for aligning taxonomy against real data.
