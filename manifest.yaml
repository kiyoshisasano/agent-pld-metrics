# manifest.yaml
# PLD Repository Metadata Manifest (Fixed)
# Format spec: METADATA_MANIFEST_SPEC v0.9.1
# SPDX-License-Identifier: Apache-2.0

version: 0.9.1
default_license: Apache-2.0

components:

  # ---------------------------------------------------------
  # 0. Adoption & Communication
  # ---------------------------------------------------------

  - path: pitch/
    component_id: pitch_kit
    kind: doc
    area: adoption
    status: candidate
    authority_level: 1
    version: 0.1.0
    license: CC-BY-4.0
    purpose: Communication and adoption materials.

  # ---------------------------------------------------------
  # 1. Meta & Governance (Files exist in root or meta/)
  # ---------------------------------------------------------

  - path: README.md
    component_id: repo_readme
    kind: doc
    area: meta
    status: stable
    authority_level: 1
    purpose: Repository entry point.

  - path: SUMMARY.md
    component_id: repo_summary
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: Navigation index.

  - path: SUMMARY.svg
    component_id: repo_summary_diagram
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: Visual overview diagram.

  - path: README_model.svg
    component_id: readme_model_diagram
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: Runtime model diagram.

  - path: CONTRIBUTING.md
    component_id: contributing_guide
    kind: doc
    area: meta
    status: stable
    authority_level: 3
    purpose: Contribution guidelines.

  - path: meta/CHANGELOG.md
    component_id: changelog
    kind: doc
    area: meta
    status: stable
    authority_level: 5
    purpose: Change history.

  - path: meta/METADATA_MANIFEST_SPEC.md
    component_id: manifest_spec
    kind: doc
    area: meta
    status: candidate
    authority_level: 5
    purpose: Metadata specification.

  - path: meta/VERSIONING_POLICY.md
    component_id: versioning_policy
    kind: doc
    area: meta
    status: stable
    authority_level: 5
    purpose: Versioning rules.

  - path: meta/ROADMAP.md
    component_id: roadmap
    kind: doc
    area: meta
    status: draft
    authority_level: 3
    purpose: Project roadmap.

  # --- Licenses ---
  - path: LICENSES/
    component_id: licenses_dir
    kind: legal
    area: compliance
    status: stable
    authority_level: 3
    purpose: License files collection.

  # ---------------------------------------------------------
  # 2. Documentation (Implicit Grouping)
  # ---------------------------------------------------------

  - path: docs/metrics/
    component_id: docs_metrics
    kind: doc
    area: metrics
    status: draft
    authority_level: 3
    purpose: Metrics documentation.

  - path: docs/concepts/
    component_id: docs_concepts
    kind: doc
    area: concepts
    status: candidate
    authority_level: 3
    purpose: Conceptual documentation.

  - path: docs/patterns/
    component_id: docs_patterns
    kind: doc
    area: patterns
    status: draft
    authority_level: 3
    purpose: Pattern documentation.

  # ---------------------------------------------------------
  # 3. PLD Runtime Core (Matched to file headers)
  # ---------------------------------------------------------

  - path: pld_runtime/README.md
    component_id: pld_runtime_readme
    kind: doc
    area: runtime
    status: stable
    authority_level: 5
    purpose: Runtime documentation.

  # --- schemas ---
  - path: pld_runtime/schemas/runtime_event_envelope.json
    component_id: runtime_event_envelope_json
    kind: schema
    area: runtime_schema
    status: stable
    authority_level: 5
    purpose: JSON schema definition.

  - path: pld_runtime/schemas/runtime_event_envelope.ops.md
    component_id: runtime_event_envelope_ops
    kind: doc
    area: schema
    status: candidate
    authority_level: 5
    purpose: Operational guidance.

  - path: pld_runtime/schemas/runtime_event_envelope.examples.md
    component_id: runtime_event_envelope_examples
    kind: doc
    area: schema
    status: candidate
    authority_level: 5
    purpose: Envelope examples.

  - path: pld_runtime/schemas/runtime_event_envelope.notes.md
    component_id: runtime_event_envelope_notes
    kind: doc
    area: schema
    status: draft
    authority_level: 5
    purpose: Operational notes.

  # --- ingestion (Fixed Levels) ---
  - path: pld_runtime/ingestion/ingestion_config.py
    component_id: ingestion_config
    kind: config
    area: ingestion
    status: candidate
    authority_level: 5
    purpose: Ingestion configuration.

  - path: pld_runtime/ingestion/multiwoz_loader.py
    component_id: multiwoz_loader
    kind: runtime_module
    area: ingestion
    status: experimental
    authority_level: 5
    purpose: MultiWOZ loader.

  - path: pld_runtime/ingestion/normalization.py
    component_id: normalization
    kind: runtime_module
    area: ingestion
    status: draft
    authority_level: 5
    purpose: Signal normalization.

  - path: pld_runtime/ingestion/simple_observer.py
    component_id: simple_observer
    kind: runtime_module
    area: ingestion
    status: experimental
    authority_level: 5
    purpose: High-level observer facade.

  # --- detection ---
  - path: pld_runtime/detection/drift_detector.py
    component_id: drift_detector
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 5
    purpose: Drift detector base.

  - path: pld_runtime/detection/repair_detector.py
    component_id: repair_detector
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 5
    purpose: Repair detector.

  - path: pld_runtime/detection/pattern_classifier.py
    component_id: pattern_classifier
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 5
    purpose: Pattern classifier.

  - path: pld_runtime/detection/runtime_signal_bridge.py
    component_id: runtime_signal_bridge
    kind: runtime_module
    area: detection
    status: draft
    authority_level: 5
    purpose: Signal bridge.

  - path: pld_runtime/detection/builtin_detectors.py
    component_id: builtin_detectors
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 5
    purpose: Built-in detectors.

  # --- enforcement ---
  - path: pld_runtime/enforcement/response_policy.py
    component_id: response_policy
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Response policy.

  - path: pld_runtime/enforcement/schema_validator.py
    component_id: schema_validator
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Schema validator.

  - path: pld_runtime/enforcement/sequence_rules.py
    component_id: sequence_rules
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Sequence rules.

  - path: pld_runtime/enforcement/thresholds.py
    component_id: enforcement_thresholds
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Threshold templates.

  # --- controllers (Fixed Levels) ---
  - path: pld_runtime/controllers/pld_controller.py
    component_id: pld_controller
    kind: runtime_module
    area: controller
    status: draft
    authority_level: 5
    purpose: Main controller.

  - path: pld_runtime/controllers/action_router.py
    component_id: action_router
    kind: runtime_module
    area: controller
    status: experimental
    authority_level: 5
    purpose: Action router.

  - path: pld_runtime/controllers/controller_config.py
    component_id: controller_config
    kind: config
    area: controller
    status: experimental
    authority_level: 5
    purpose: Controller configuration.

  - path: pld_runtime/controllers/state_machine.py
    component_id: state_machine
    kind: runtime_module
    area: controller
    status: experimental
    authority_level: 5
    purpose: State machine.

  # --- logging (Fixed Runtime/Draft mismatches) ---
  - path: pld_runtime/logging/runtime_logging_pipeline.py
    component_id: logging_pipeline
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 5
    purpose: Logging pipeline.

  - path: pld_runtime/logging/event_writer.py
    component_id: event_writer
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 5
    purpose: Event writer.

  - path: pld_runtime/logging/logging_config.py
    component_id: logging_config
    kind: config
    area: logging
    status: stable
    authority_level: 5
    purpose: Logging configuration.

  - path: pld_runtime/logging/session_trace_buffer.py
    component_id: session_trace_buffer
    kind: runtime_module
    area: logging
    status: status: stable
    authority_level: 5
    purpose: Trace buffer.

  - path: pld_runtime/logging/structured_logger.py
    component_id: structured_logger
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 5
    purpose: Structured logger.

  - path: pld_runtime/logging/exporters/exporter_jsonl.py
    component_id: exporter_jsonl
    kind: runtime_module
    area: logging
    status: experimental
    authority_level: 5
    purpose: JSONL exporter.

  - path: pld_runtime/logging/exporters/exporter_open_telemetry.py
    component_id: exporter_open_telemetry
    kind: runtime_module
    area: logging
    status: experimental
    authority_level: 5
    purpose: OTel exporter.

  # --- failover (Fixed Draft/Experimental mismatches) ---
  - path: pld_runtime/failover/runtime_failover.py
    component_id: runtime_failover
    kind: runtime_module
    area: failover
    status: draft
    authority_level: 5
    purpose: Runtime failover logic.

  - path: pld_runtime/failover/backoff_policies.py
    component_id: backoff_policies
    kind: runtime_module
    area: failover
    status: draft
    authority_level: 5
    purpose: Backoff policies.

  - path: pld_runtime/failover/reconciliation.py
    component_id: reconciliation
    kind: runtime_module
    area: failover
    status: draft
    authority_level: 5
    purpose: State reconciliation.

  - path: pld_runtime/failover/strategy_registry.py
    component_id: strategy_registry
    kind: runtime_module
    area: failover
    status: draft
    authority_level: 5
    purpose: Strategy registry.

  # --- Package Initializers ---
  - path: pld_runtime/__init__.py
    component_id: pld_runtime_public_api
    kind: runtime_module
    area: api
    status: stable
    authority_level: 5
    purpose: Public API.

  - path: pld_runtime/schemas/__init__.py
    component_id: schemas_pkg_init
    kind: code
    area: schema
    status: stable
    authority_level: 5
    purpose: Schemas init.

  - path: pld_runtime/ingestion/__init__.py
    component_id: ingestion_pkg_init
    kind: code
    area: ingestion
    status: stable
    authority_level: 5
    purpose: Ingestion init.

  - path: pld_runtime/detection/__init__.py
    component_id: detection_pkg_init
    kind: code
    area: detection
    status: stable
    authority_level: 5
    purpose: Detection init.

  - path: pld_runtime/enforcement/__init__.py
    component_id: enforcement_pkg_init
    kind: code
    area: enforcement
    status: stable
    authority_level: 5
    purpose: Enforcement init.

  - path: pld_runtime/controllers/__init__.py
    component_id: controllers_pkg_init
    kind: code
    area: controller
    status: stable
    authority_level: 5
    purpose: Controller init.

  - path: pld_runtime/logging/__init__.py
    component_id: logging_pkg_init
    kind: code
    area: logging
    status: stable
    authority_level: 5
    purpose: Logging init.

  - path: pld_runtime/logging/exporters/__init__.py
    component_id: exporters_pkg_init
    kind: code
    area: logging
    status: stable
    authority_level: 5
    purpose: Exporters init.

  - path: pld_runtime/failover/__init__.py
    component_id: failover_pkg_init
    kind: code
    area: failover
    status: stable
    authority_level: 5
    purpose: Failover init.

  # ---------------------------------------------------------
  # 4. Quickstart & Examples (Implicit Grouping)
  # ---------------------------------------------------------

  - path: quickstart/
    component_id: quickstart_examples
    kind: example
    area: quickstart
    status: experimental
    authority_level: 1
    purpose: Quickstart examples.

  - path: examples/
    component_id: examples_collection
    kind: example
    area: examples
    status: experimental
    authority_level: 2
    purpose: Integration examples.

  # ---------------------------------------------------------
  # 5. Project Config
  # ---------------------------------------------------------
  - path: pyproject.toml
    component_id: pyproject_config
    kind: config
    area: meta
    status: stable
    authority_level: 3
    purpose: Packaging config.

  - path: requirements.txt
    component_id: requirements_file
    kind: config
    area: meta
    status: stable
    authority_level: 3
    purpose: Dependencies.

  - path: MANIFEST.in
    component_id: manifest_in_config
    kind: config
    area: meta
    status: stable
    authority_level: 3
    purpose: Manifest inclusion rules.

  - path: .gitignore
    component_id: gitignore
    kind: config
    area: meta
    status: stable
    authority_level: 1
    purpose: Git ignore rules.

  - path: .github/workflows/
    component_id: github_workflows
    kind: config
    area: meta
    status: stable
    authority_level: 3
    purpose: CI/CD workflows.

  # ---------------------------------------------------------
  # 6. Works in Progress
  # ---------------------------------------------------------
  - path: analytics/
    component_id: analytics_suite_wip
    kind: metric
    area: analytics
    status: experimental
    authority_level: 2
    purpose: Analytics tools WIP.

  - path: governance/
    component_id: governance_legacy
    kind: doc
    area: meta
    status: stable
    authority_level: 5
    purpose: Governance legacy docs.

  - path: docs/architecture/
    component_id: docs_architecture_wip
    kind: doc
    area: architecture
    status: draft
    authority_level: 3
    purpose: Architecture docs WIP.

  - path: docs/specifications/
    component_id: docs_specifications_wip
    kind: doc
    area: schema
    status: draft
    authority_level: 4
    purpose: Specifications WIP.
