# manifest.yaml
# PLD Repository Metadata Manifest
# Format spec: METADATA_MANIFEST_SPEC v0.9.1
# SPDX-License-Identifier: Apache-2.0

version: 0.9.1
default_license: Apache-2.0

components:
# ---------------------------------------------------------
# 0. Adoption & Communication (New)
# ---------------------------------------------------------

- path: pitch/
  component_id: pitch_kit
  kind: doc
  area: adoption
  status: candidate
  authority_level: 1
  version: 0.1.0
  license: CC-BY-4.0
  purpose: >
    Communication and adoption materials intended to help product teams,
    engineering leadership, and decision-makers understand the value and role
    of PLD in stabilizing multi-turn AI systems. This folder exists as part of
    the OSS distribution but remains in an evolving exploratory phase, seeking
    field feedback before stabilization.
  feedback: "Feedback from implementers and internal advocates is encouraged."

  # ---------------------------------------------------------
  # 1. Meta & Governance
  # ---------------------------------------------------------
  - path: README.md
    component_id: repo_readme
    kind: doc
    area: meta
    status: stable
    authority_level: 1
    purpose: Repository entry point.

  - path: SUMMARY.md
    component_id: repo_summary
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: High-level summary and navigation index for the PLD repository contents.

  - path: SUMMARY.svg
    component_id: repo_summary_diagram
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: Visual overview diagram of the PLD repository structure.

  - path: README_model.svg
    component_id: readme_model_diagram
    kind: doc
    area: meta
    status: stable
    authority_level: 2
    purpose: Diagram illustrating the core PLD runtime model referenced by the repository README.

  - path: CONTRIBUTING.md
    component_id: contributing_guide
    kind: doc
    area: meta
    status: stable
    authority_level: 3
    purpose: Contribution guidelines for maintainers and external collaborators.

  - path: meta/ROADMAP.md
    component_id: roadmap
    kind: doc
    area: meta
    status: draft
    authority_level: 3
    purpose: Roadmap and future development plans for the PLD repository and runtime ecosystem.

  - path: meta/CHANGELOG.md
    component_id: changelog
    kind: doc
    area: meta
    status: stable
    authority_level: 5
    purpose: Official change history for the PLD repository and runtime ecosystem.

  - path: meta/METADATA_MANIFEST_SPEC.md
    component_id: manifest_spec
    kind: doc
    area: meta
    status: candidate
    authority_level: 5
    purpose: Governing specification for PLD metadata and manifest structure.

  - path: meta/VERSIONING_POLICY.md
    component_id: versioning_policy
    kind: doc
    area: meta
    status: stable
    authority_level: 5
    purpose: Versioning rules and governance policy for schemas, runtime modules, and specifications.

  - path: LICENSES/LICENSE-APACHE-2.0.txt
    component_id: license_apache_2_0
    kind: legal
    area: compliance
    status: stable
    authority_level: 5
    purpose: Primary open-source license governing repository use and redistribution.

  - path: LICENSES/LICENSE-CC-BY-4.0.txt
    component_id: license_cc_by_4_0
    kind: legal
    area: compliance
    status: stable
    authority_level: 5
    purpose: Additional content license covering documentation, examples, and derivative works.

  - path: LICENSES/NOTICE.txt
    component_id: legal_notice
    kind: legal
    area: compliance
    status: stable
    authority_level: 5
    purpose: Required legal notice for compliance with open-source redistribution requirements.

  - path: LICENSES/TRADEMARK_POLICY.md
    component_id: trademark_policy
    kind: legal
    area: compliance
    status: stable
    authority_level: 5
    purpose: Trademark usage restrictions and authorized usage scope for the PLD name and branding.

  - path: LICENSES/citation.bib
    component_id: citation_reference
    kind: doc
    area: compliance
    status: stable
    authority_level: 3
    purpose: Reference entry for proper scholarly citation of the PLD specification and runtime ecosystem.

  - path: LICENSES/LICENSES.md
    component_id: license_collection_overview
    kind: doc
    area: compliance
    status: stable
    authority_level: 3
    purpose: Index and explanation of licensing models applicable across repository components.


  # ---------------------------------------------------------
  # 2. Documentation & Architecture
  # ---------------------------------------------------------

  - path: docs/concepts/01_introduction.md
    component_id: concepts_introduction
    kind: doc
    area: concepts
    status: candidate
    authority_level: 3
    version: 2.0.0
    license: CC-BY-4.0
    purpose: High-level conceptual introduction to PLD lifecycle and design philosophy.

  - path: docs/concepts/02_drift_repair_model.md
    component_id: concepts_drift_repair_model
    kind: doc
    area: concepts
    status: candidate
    authority_level: 3
    version: 2.0.0
    license: CC-BY-4.0
    purpose: Conceptual lifecycle model: Drift → Repair → Reentry → Continue → Outcome.

  - path: docs/concepts/03_repair_strategies.md
    component_id: concepts_repair_strategies
    kind: doc
    area: concepts
    status: candidate
    authority_level: 3
    version: 2.0.0
    license: CC-BY-4.0
    purpose: Three PLD repair strategies: Static, Guided, Human-in-the-Loop.

  - path: docs/concepts/reference_map.md
    component_id: concepts_reference_map
    kind: doc
    area: concepts
    status: candidate
    authority_level: 3
    version: 2.0.0
    license: CC-BY-4.0
    purpose: Navigation guide linking Concepts to specs, architecture, patterns, and runtime components.

  - path: docs/operator_primitives/01_detect_drift.md
 　 component_id: detect_drift_operator
  　kind: doc
  　area: runtime_operators
 　 status: candidate
 　 authority_level: 2
 　 version: 2.0.0
 　 purpose: "Exploratory operator notes describing drift detection patterns in PLD runtime contexts."
　
　- path: docs/operator_primitives/02_soft_repair.md
　  component_id: soft_repair_operator
 　 kind: doc
  　area: runtime_operators
  　status: candidate
  　authority_level: 2
  　version: 2.0.0
　  purpose: "Working draft describing soft corrective behavior interpretations for PLD."

　- path: docs/operator_primitives/03_hard_repair.md
  　component_id: hard_repair_operator
 　 kind: doc
  　area: runtime_operators
  　status: candidate
  　authority_level: 2
  　version: 2.0.0
  　purpose: "Notes defining exploratory framing for structural reset conditions and escalation boundaries."

　- path: docs/operator_primitives/04_latency_operator.md
  　component_id: latency_operator
  　kind: doc
  　area: observability
  　status: candidate
 　 authority_level: 2
 　 version: 2.0.0
 　 purpose: "Observability notes describing latency signal handling and non-lifecycle metadata events."

　- path: docs/operator_primitives/05_reentry_operator.md
  　component_id: reentry_operator
  　kind: doc
  　area: runtime_operators
  　status: candidate
  　authority_level: 2
  　version: 2.0.0
  　purpose: "Exploratory framing for stabilization transitions following repair sequences."

- path: docs/patterns/01_llm/foundations.md
  component_id: llm_patterns_foundations
  kind: doc
  area: quickstart_patterns
  status: draft
  authority_level: 3
  version: 2.0.0
  purpose: Foundational conventions and boundaries for LLM pattern files in patterns/01_llm.

- path: docs/patterns/01_llm/state_transition_examples.md
  component_id: llm_patterns_state_transitions
  kind: doc
  area: quickstart_patterns
  status: draft
  authority_level: 3
  version: 2.0.0
  purpose: Illustrative examples of PLD lifecycle transitions for LLM-reactive behavior.

- path: docs/patterns/01_llm/drift_response_patterns.md
  component_id: llm_patterns_drift_responses
  kind: doc
  area: quickstart_patterns
  status: draft
  authority_level: 3
  version: 2.0.0
  purpose: Reactive conversational patterns for handling drift signals after runtime detection.

- path: docs/patterns/01_llm/repair_templates.md
  component_id: llm_patterns_repair_templates
  kind: doc
  area: quickstart_patterns
  status: draft
  authority_level: 3
  version: 2.0.0
  purpose: Templates for alignment repair responses once a repair signal (R1–R5) has been emitted.

- path: docs/patterns/01_llm/reentry_alignment_patterns.md
  component_id: llm_patterns_reentry_alignment
  kind: doc
  area: quickstart_patterns
  status: draft
  authority_level: 3
  version: 2.0.0
  purpose: Patterns for transitioning from repair back to normal task execution after reentry signals.

- path: docs/patterns/01_llm/tool_response_rules.md
  component_id: llm_patterns_tool_response_rules
  kind: doc
  area: quickstart_patterns
  status: draft
  authority_level: 3
  version: 2.0.0
  purpose: Reactive rules for how LLMs present and frame tool outputs provided by the runtime.

  # ---------------------------------------------------------
  # 3. PLD Runtime Core
  # ---------------------------------------------------------

  - path: pld_runtime/README.md
    component_id: pld_runtime_readme
    kind: doc
    area: runtime
    status: stable
    authority_level: 5
    purpose: Entry-point documentation for the PLD runtime directory.

  # --- schemas ---
  - path: pld_runtime/schemas/runtime_event_envelope.json
    component_id: runtime_event_envelope_json
    kind: schema
    area: runtime_schema
    status: stable
    authority_level: 5
    purpose: JSON schema definition for the PLD Event Envelope.

  - path: pld_runtime/schemas/runtime_event_envelope.ops.md
    component_id: runtime_event_envelope_ops
    kind: doc
    area: schema
    status: candidate
    authority_level: 5
    version: 2.0.0
    purpose: Operational guidance for emitting, validating, transporting, and observing PLD runtime events.

  - path: pld_runtime/schemas/runtime_event_envelope.examples.md
    component_id: runtime_event_envelope_examples
    kind: doc
    area: schema
    status: candidate
    authority_level: 5
    version: 2.0.0
    purpose: Runtime event envelope examples for operational reference.

  - path: pld_runtime/schemas/runtime_event_envelope.notes.md
    component_id: runtime_event_envelope_notes
    kind: doc
    area: schema
    status: draft
    authority_level: 5
    version: 2.0.0
    purpose: Operational companion reference for the PLD runtime event envelope, including behavioral rules and deployment guidance.


  # --- ingestion ---
  - path: pld_runtime/ingestion/ingestion_config.py
    component_id: ingestion_config
    kind: config
    area: ingestion
    status: experimental
    authority_level: 3
    purpose: Configuration for data ingestion pipelines.

  - path: pld_runtime/ingestion/multiwoz_loader.py
    component_id: multiwoz_loader
    kind: runtime_module
    area: ingestion
    status: experimental
    authority_level: 2
    purpose: Loader for MultiWOZ dataset adaptation.

  - path: pld_runtime/ingestion/normalization.py
    component_id: normalization
    kind: runtime_module
    area: ingestion
    status: stable
    authority_level: 4
    purpose: Normalizes input signals into PLD format.

  # --- detection ---
  - path: pld_runtime/detection/drift_detector.py
    component_id: drift_detector
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 5
    purpose: Core logic for detecting conversation drift.

  - path: pld_runtime/detection/repair_detector.py
    component_id: repair_detector
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 5
    purpose: Identifies repair sequences.

  - path: pld_runtime/detection/pattern_classifier.py
    component_id: pattern_classifier
    kind: runtime_module
    area: detection
    status: experimental
    authority_level: 4
    purpose: Classifies detected patterns against the taxonomy.

  - path: pld_runtime/detection/runtime_signal_bridge.py
    component_id: runtime_signal_bridge
    kind: runtime_module
    area: detection
    status: stable
    authority_level: 5
    purpose: Bridges raw signals to runtime events.

   - path: pld_runtime/detection/builtin_detectors.py 
     component_id: builtin_detectors 
     kind: runtime_module 
     area: detection 
     status: experimental 
     authority_level: 5 
     purpose: Built-in detectors for keyword- and schema-based drift
 

  # --- enforcement ---
  - path: pld_runtime/enforcement/response_policy.py
    component_id: response_policy
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Map PLD runtime events to advisory response policy.

  - path: pld_runtime/enforcement/schema_validator.py
    component_id: schema_validator
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Validate PLD runtime events against Level 1 schema.

  - path: pld_runtime/enforcement/sequence_rules.py
    component_id: sequence_rules
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Evaluate ordering constraints in runtime event sequences.

  - path: pld_runtime/enforcement/thresholds.py
    component_id: enforcement_thresholds
    kind: runtime_module
    area: enforcement
    status: draft
    authority_level: 5
    purpose: Threshold templates for runtime enforcement.

  # --- controllers ---
  - path: pld_runtime/controllers/pld_controller.py
    component_id: pld_controller
    kind: runtime_module
    area: controller
    status: experimental
    authority_level: 4
    purpose: Main runtime loop controller.

  - path: pld_runtime/controllers/action_router.py
    component_id: action_router
    kind: runtime_module
    area: controller
    status: experimental
    authority_level: 4
    purpose: Routes controller decisions to execution modules.

  - path: pld_runtime/controllers/controller_config.py
    component_id: controller_config
    kind: config
    area: controller
    status: experimental
    authority_level: 3
    purpose: Configuration for the runtime controller.

  - path: pld_runtime/controllers/state_machine.py
    component_id: state_machine
    kind: runtime_module
    area: controller
    status: experimental
    authority_level: 5
    purpose: Manages state transitions (Drift -> Repair -> Reentry).

  # --- logging ---
  - path: pld_runtime/logging/runtime_logging_pipeline.py
    component_id: logging_pipeline
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 3
    purpose: Structured logging pipeline.

  - path: pld_runtime/logging/event_writer.py
    component_id: event_writer
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 3
    purpose: Writes validated events to storage.

  - path: pld_runtime/logging/logging_config.py
    component_id: logging_config
    kind: config
    area: logging
    status: stable
    authority_level: 3
    purpose: Configuration for logging levels and outputs.

  - path: pld_runtime/logging/session_trace_buffer.py
    component_id: session_trace_buffer
    kind: runtime_module
    area: logging
    status: experimental
    authority_level: 4
    purpose: Buffers session events for trace assembly.

  - path: pld_runtime/logging/structured_logger.py
    component_id: structured_logger
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 3
    purpose: Core logger implementation.

  - path: pld_runtime/logging/exporters/exporter_jsonl.py
    component_id: exporter_jsonl
    kind: runtime_module
    area: logging
    status: stable
    authority_level: 3
    purpose: Exports logs to JSONL format.

  - path: pld_runtime/logging/exporters/exporter_open_telemetry.py
    component_id: exporter_open_telemetry
    kind: runtime_module
    area: logging
    status: experimental
    authority_level: 3
    purpose: Exports logs via OpenTelemetry.

  # --- failover ---
  - path: pld_runtime/failover/runtime_failover.py
    component_id: runtime_failover
    kind: runtime_module
    area: failover
    status: experimental
    authority_level: 5
    purpose: Manages failover logic when runtime errors occur.

  - path: pld_runtime/failover/backoff_policies.py
    component_id: backoff_policies
    kind: runtime_module
    area: failover
    status: experimental
    authority_level: 4
    purpose: Defines retry and backoff strategies.

  - path: pld_runtime/failover/reconciliation.py
    component_id: reconciliation
    kind: runtime_module
    area: failover
    status: experimental
    authority_level: 5
    purpose: Reconciles state after failover.

  - path: pld_runtime/failover/strategy_registry.py
    component_id: strategy_registry
    kind: runtime_module
    area: failover
    status: experimental
    authority_level: 4
    purpose: Registry for failover strategies.

# ---------------------------------------------------------
# 4. Quickstart & Examples
# ---------------------------------------------------------

  - path: quickstart/README_quickstart.md
    component_id: quickstart_readme
    kind: doc
    area: quickstart
    status: experimental
    authority_level: 1
    purpose: Quickstart guide for PLD runtime usage examples.


  - path: quickstart/hello_pld_runtime.py
    component_id: hello_pld_runtime
    kind: example
    area: quickstart
    status: experimental
    authority_level: 1
    purpose: Minimal quickstart script that builds a single PLD v2-compliant event via RuntimeSignalBridge and emits it using the Level 5 logging pipeline.

  - path: quickstart/run_minimal_engine.py
    component_id: run_minimal_engine
    kind: example
    area: quickstart
    status: experimental
    authority_level: 1
    purpose: Minimal engine loop that processes a sequence of RuntimeSignals into PLD v2-compliant events via RuntimeSignalBridge and emits them through the Level 5 structured logging pipeline.

  - path: quickstart/minimal_pld_demo.py
    component_id: minimal_pld_demo
    kind: example
    area: quickstart
    status: experimental
    authority_level: 1
    purpose: End-to-end quickstart demonstration showing a scripted flow converted to PLD runtime events and logged through StructuredLogger for inspection.

  - path: quickstart/metrics_quickcheck/README.md
    component_id: quickstart_metrics_readme
    kind: doc
    area: metrics
    status: draft
    authority_level: 2
    purpose: Entry-point README for the metrics quickstart module, describing structure and usage.

  - path: quickstart/metrics_quickcheck/verify_metrics_local.py
    component_id: verify_metrics_local
    kind: example
    area: metrics
    status: draft
    authority_level: 2
    purpose: Local inspection script that loads demo PLD events and computes lightweight drift/repair metrics.

  - path: quickstart/metrics_quickcheck/pld_events_demo.jsonl
    component_id: pld_events_demo_dataset
    kind: metric
    area: metrics
    status: draft
    authority_level: 2
    purpose: Handcrafted demo PLD event dataset for exploring drift, repair, and recovery patterns.

  - path: quickstart/metrics/dashboards/reentry_success_dashboard.json
    component_id: reentry_success_dashboard
    kind: config
    area: metrics
    status: draft
    authority_level: 2
    purpose: Example dashboard configuration for visualizing reentry-related metrics and session timelines.

  # ---------------------------------------------------------
  # 5. Field Collaboration
  # ---------------------------------------------------------


  # ---------------------------------------------------------
  # 6. Analytics
  # ---------------------------------------------------------

  # ---------------------------------------------------------
  # 7. Examples
  # ---------------------------------------------------------
  - path: examples/langgraph_assistants/README.md
    component_id: langgraph_assistants_readme
    kind: doc
    area: integration
    status: stable
    authority_level: 2
    purpose: Documentation for the LangGraph observer-mode integration example.

  - path: examples/langgraph_assistants/config.yaml
    component_id: langgraph_assistants_config
    kind: config
    area: integration
    status: experimental
    authority_level: 2
    purpose: Configuration for the LangGraph demo (model, logs).

  - path: examples/langgraph_assistants/run.py
    component_id: langgraph_pld_run
    kind: example
    area: integration
    status: experimental
    authority_level: 2
    purpose: Entry point for the LangGraph + PLD observer-mode integration.

  - path: examples/langgraph_assistants/graph.py
    component_id: langgraph_pld_graph
    kind: example
    area: integration
    status: experimental
    authority_level: 2
    purpose: LangGraph definition wiring the PLD observer.

  - path: examples/langgraph_assistants/agent_node.py
    component_id: langgraph_assistant_node
    kind: example
    area: integration
    status: experimental
    authority_level: 2
    purpose: Wrapper for OpenAI Assistants API (Application Layer).

  - path: examples/langgraph_assistants/pld_runtime_integration.py
    component_id: langgraph_pld_bridge
    kind: example
    area: integration
    status: experimental
    authority_level: 2
    purpose: Observer-only bridge from LangGraph state to PLD runtime events.

  - path: examples/reference_traces/generators/generate_forensic_trace.py
    component_id: forensic_trace_generator
    kind: code
    area: examples
    status: candidate
    authority_level: 3
    purpose: Python script to generate high-fidelity production simulation logs with entropy and noise.

  - path: examples/reference_traces/forensic_infra_noise.jsonl
    component_id: trace_forensic_noise
    kind: metric
    area: examples
    status: candidate
    authority_level: 3
    purpose: Reference JSONL dataset demonstrating PLD behavior under infrastructure noise, timeouts, and partial failures.

　- path: examples/reference_traces/golden_semantic_repair.jsonl
    component_id: trace_golden_semantic
    kind: metric
    area: examples
    status: candidate
    authority_level: 3
    purpose: Story-focused reference trace demonstrating drift detection and repair (Happy Path).

  - path: examples/reference_traces/README.md
    component_id: reference_traces_readme
    kind: doc
    area: examples
    status: candidate
    authority_level: 3
    purpose: Documentation for simulated log traces and generation tools.
  
  # ---------------------------------------------------------
  # Package Initializers & Public API
  # ---------------------------------------------------------
  - path: pld_runtime/__init__.py
    component_id: pld_runtime_public_api
    kind: runtime_module
    area: api
    status: stable
    authority_level: 5
    purpose: Public API surface for PLD Runtime v2.0.

  # --- Internal Package Markers (Optional but good for completeness) ---
  - path: pld_runtime/schemas/__init__.py
    component_id: schemas_pkg_init
    kind: code
    area: schema
    status: stable
    authority_level: 5
    purpose: Package initialization for schemas.

  - path: pld_runtime/ingestion/__init__.py
    component_id: ingestion_pkg_init
    kind: code
    area: ingestion
    status: stable
    authority_level: 5
    purpose: Package initialization for ingestion.

  - path: pld_runtime/detection/__init__.py
    component_id: detection_pkg_init
    kind: code
    area: detection
    status: stable
    authority_level: 5
    purpose: Package initialization for detection.

  - path: pld_runtime/enforcement/__init__.py
    component_id: enforcement_pkg_init
    kind: code
    area: enforcement
    status: stable
    authority_level: 5
    purpose: Package initialization for enforcement.

  - path: pld_runtime/controllers/__init__.py
    component_id: controllers_pkg_init
    kind: code
    area: controller
    status: stable
    authority_level: 5
    purpose: Package initialization for controllers.

  - path: pld_runtime/logging/__init__.py
    component_id: logging_pkg_init
    kind: code
    area: logging
    status: stable
    authority_level: 5
    purpose: Package initialization for logging.

  - path: pld_runtime/logging/exporters/__init__.py
    component_id: exporters_pkg_init
    kind: code
    area: logging
    status: stable
    authority_level: 5
    purpose: Package initialization for logging exporters.

  - path: pld_runtime/failover/__init__.py
    component_id: failover_pkg_init
    kind: code
    area: failover
    status: stable
    authority_level: 5
    purpose: Package initialization for failover.

  - path: examples/__init__.py
    component_id: examples_pkg_init
    kind: code
    area: examples
    status: stable
    authority_level: 2
    purpose: Package initialization for examples.

  - path: examples/langgraph_assistants/__init__.py
    component_id: langgraph_assistants_pkg_init
    kind: code
    area: integration
    status: experimental
    authority_level: 2
    purpose: Package initialization for LangGraph integration.
